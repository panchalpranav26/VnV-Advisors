/*
 * FILE: assets/css/components/nav.css
 * ROLE: Navigation bar styling (header, brand, desktop nav, CTA)
 * DESIGN SYSTEM: Follows core.css tokens (master source of truth)
 * COMPAT: Matches updated dropdown-pane.css (.dropdown-pane + Soft Glass)
 * UX:
 *   - Desktop: Hover interactions
 *   - Mobile: JS handles menu toggle (no mobile CSS here)
 */

/* ============================================================
   HEADER: Sticky Top Navigation Bar
   - Soft Glass + Surface Hybrid (aligned with dropdown design)
   ============================================================ */

.header {
    position: sticky;
    top: 0;
    z-index: var(--z-header);
    height: var(--nav-h);
    background: var(--teal-800);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(255,255,255,0.06);
    display: flex;
    align-items: flex-end;
}

/* Container for brand + menu + CTA */
.nav {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    height: var(--nav-h);
}


/* ============================================================
   BRANDING
   ============================================================ */

.brand {
    display: flex;
    align-items: center;
    color: inherit;
    text-decoration: none;
    align-self: center;
}

.brand__logo {
    width: 34px;
    height: 34px;
    border-radius: var(--radius-sm);

    /* Uses teal brand gradient from core tokens */
    background: linear-gradient(135deg, var(--teal-500), var(--teal-400));
    box-shadow:
            inset 0 0 0 1px rgba(255, 255, 255, 0.35),
            0 6px 16px rgba(20, 184, 166, 0.45);
}

.brand__name {
    font-family: var(--font-serif), serif;
    font-size: 18px;
    letter-spacing: 0.2px;
    font-weight: 600;
}


/* ============================================================
   DESKTOP NAVIGATION (Top-Level Links)
   ============================================================ */

.menu {
    display: flex;
    gap: 12px;
    align-items: center;
    height: var(--nav-h);
}

.menu-item {
    position: relative;
    display: flex;
    align-items: flex-end;
}

/* --- FIX 1: reduce top-level link hover padding --- */
.menu > .menu-item > .link {
    padding-top: 6px;
    padding-bottom: 6px;
}

/* Softer hover */
.menu > .menu-item > .link:hover {
    background: var(--teal-400);
    );
}

/* ============================================================
   LINKS
============================================================ */
.link {
    display: inline-flex;
    align-items: flex-end;
    padding: 10px 12px;
    border-radius: var(--radius-sm);
    color: #000000;
    font-weight: 600;
    text-decoration: none;
    transition: background var(--anim-fast), color var(--anim-fast);
}

/* Soft hover (token-consistent with dropdown hover) */
.link:hover,
.link:focus-visible {
    background:var(--teal-400);
    outline: none;
}

/* Accessible focus ring for keyboard users */
.link:focus-visible {
    box-shadow: 0 0 0 2px var(--underline);
}

/* CURRENT PAGE (active nav item) */
.link.is-active {
    color: var(--white);
}
.link.is-active::after {
    transform: scaleX(1);
}


/* ============================================================
   HL3-S UNDERLINE (Top-Level Links)
============================================================ */
.menu > .menu-item > .link::after,
.menu > .menu-item.nav-item--has-dropdown > .parent-with-caret > .link::after {
    content: "";
    position: absolute;
    left: 12px;
    right: 12px;
    bottom: 6px;
    height: var(--underline-h);
    transform: scaleX(0);
    transform-origin: left center;
    transition: transform var(--anim-med) ease;
    border-radius: 2px;
    pointer-events: none;
}

/* Desktop-only hover animations */
@media (min-width: 981px) {

    /* Normal hover underline (for direct links) */
    .menu > .menu-item:hover > .link::after,
    .menu > .menu-item > .link:focus-visible::after {
        transform: scaleX(1);
    }

    /* Hover underline for dropdown parents */
    .menu > .menu-item.nav-item--has-dropdown:hover
    .parent-with-caret > .link::after {
        transform: scaleX(1);
    }

    /* Highlight dropdown parent when hovered */
    .menu > .menu-item.nav-item--has-dropdown:hover
    .parent-with-caret > .link {
        background: var(--teal-400);
    }
    .mobile-nav-toggle {
        display: none;
    }
}


/* ============================================================
   CARET (for items that open dropdowns on mobile)
   ============================================================ */

.caret {
    inline-size: 10px;
    block-size: 10px;
    display: inline-block;
}

.caret svg {
    transform: translateY(1px);
    opacity: 0.9;
}


/* ============================================================
   CTA BUTTON (Consistent with Brand Tokens)
   ============================================================ */

.cta {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 10px 14px;

    border-radius: 999px;
    color: var(--navy-900);

    /* Teal gradient CTA â€“ approved brand style */
    background: linear-gradient(135deg, var(--teal-400), var(--teal-500));

    font-weight: 700;
    text-decoration: none;

    box-shadow: var(--shadow-1);
    border: 1px solid rgba(255, 255, 255, 0.35);

    transition:
            transform var(--anim-fast) ease,
            box-shadow var(--anim-fast) ease;
}

.cta:hover {
    transform: translateY(-1px);
    box-shadow: var(--shadow-2);
}



